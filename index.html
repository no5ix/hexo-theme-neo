<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">

<script>
    (function(){
        if(''){
          const hostname = window.location.hostname;
          if (!(hostname === "localhost" || hostname === "127.0.0.1" || hostname === "::1")) {
            // console.log("The website is not running on localhost.");
            // alert('此文章并不公开, 输入文章密码方可阅读');
            var password = prompt('此文章并不公开, 输入文章密码方可阅读');
            if (password !== ''){
              if (password != null) // 如果用户点击了确认而且密码错误的时候, 因为当password == null的时候说明用户点了取消
              {
                alert('Error!');
              }
              if (history.length > 1)
              {
                history.back();
              }
              else
              {
                window.location.href = "about:blank";
              }
            }
          }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/dist/jquery.fancybox.css?v=3.2.10" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta name="description" content="推荐使用Chrome/Firefox/Safari阅读本博客. 以前的老笔记将会一篇一篇慢慢整理为博客, 这既启发了他人, 也锻炼了自己的描述交流能力.">
<meta property="og:type" content="website">
<meta property="og:title" content="烫">
<meta property="og:url" content="https://hulinhong.com/index.html">
<meta property="og:site_name" content="烫">
<meta property="og:description" content="推荐使用Chrome/Firefox/Safari阅读本博客. 以前的老笔记将会一篇一篇慢慢整理为博客, 这既启发了他人, 也锻炼了自己的描述交流能力.">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="烫">
<meta name="twitter:description" content="推荐使用Chrome/Firefox/Safari阅读本博客. 以前的老笔记将会一篇一篇慢慢整理为博客, 这既启发了他人, 也锻炼了自己的描述交流能力.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"scrollpercent":true,"onmobile":true,"dimmer":true,"body_content_height":0,"display_duration":150},
    local_search: {"enable":true,"trigger":"auto","top_n_per_article":1},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"duration":222,"transition":{"header":"slideDownIn","menu":"slideDownIn","logo":"slideDownIn","post_block_else":"slideDownIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"slideDownIn","footer":"slideDownIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>








  <title>烫 - 烫烫烫烫烫</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">烫</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">烫烫烫烫烫</p>
      
  </div>

  <div class="menu-item sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div class="menu-item site-search">
    
  
  <form class="site-search-form">
    <span class="search-icon fa fa-search"></span>
    <input type="text" id="local-search-input" class="st-search-input">
    <i id="local-search-close">×</i>
  </form>


<script type="text/javascript" id="local.search.active">
var inputArea       = document.querySelector("#local-search-input");
inputArea.onclick   = function(){ getSearchFile(); this.onclick = null }
inputArea.onkeydown = function(){ if(event.keyCode == 13) return false }
</script>



  </div>
  <div id="local-search-result-pc" class="local-search-result-cls"></div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

       
    </ul>
  

  
    
  
</nav>



 </div>
    </header>

    <div id="local-search-result-mobile" class="local-search-result-cls"></div>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/2022/08/25/auto_toc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="no5ix">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="烫">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/08/25/auto_toc/" itemprop="url">一个自动生成网站目录大纲的油猴脚本</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-08-25T21:56:12+00:00">
                2022-08-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GitHub/" itemprop="url" rel="index">
                    <span itemprop="name">GitHub</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <p><a href="https://github.com/no5ix/auto-toc" target="_blank" rel="noopener"><i class="fa fa-fw fa-github fa-2x"></i>auto-toc</a> </p>
<h1 id="auto-toc"><a href="#auto-toc" class="headerlink" title="auto-toc"></a>auto-toc</h1><p>Displays a table of contents for any website, making it easier to read and navigate long articles, documentations, and online books.</p>
<p>Generate TOC(table of contents) for any website. 可以为任何网站生成TOC网站目录大纲.</p>
<p>Switch black/white themes automatically according to your compupter’s light/dark mode. 会根据你的电脑的黑夜白天模式自动切换黑白主题.</p>
<p><img src="https://raw.githubusercontent.com/no5ix/auto-toc/refs/heads/main/auto_toc_demo_image.jpg" alt></p>
<h1 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h1><ul>
<li>Work properly on any website that conforms to the HTML standard and uses HTML heading tags properly (e.g. Wikipedia.com). </li>
<li>Accurate article and heading detection</li>
<li>A clean user interface</li>
<li>Highlight current heading</li>
<li>Click to jump to headings</li>
<li>Drag the panel to your preferred position</li>
<li>Only runs when you actually use it</li>
<li>Dark mode, automatically</li>
<li>6 heading levels</li>
<li>Expand all headings to a specific level</li>
<li>Support HTML label:<ul>
<li><code>H1</code>, <code>H2</code>, <code>H3</code>, <code>H4</code>, <code>H5</code>, <code>H6</code></li>
<li><code>&lt;strong&gt;</code></li>
<li><code>&lt;b&gt;</code></li>
</ul>
</li>
</ul>
<h1 id="Installation-amp-Usage"><a href="#Installation-amp-Usage" class="headerlink" title="Installation &amp; Usage"></a>Installation &amp; Usage</h1><ul>
<li>English: <a href="https://greasyfork.org/en/scripts/458022-auto-toc?locale_override=1" target="_blank" rel="noopener">https://greasyfork.org/en/scripts/458022-auto-toc?locale_override=1</a></li>
<li>中文: <a href="https://greasyfork.org/zh-CN/scripts/458022-auto-toc?locale_override=1" target="_blank" rel="noopener">https://greasyfork.org/zh-CN/scripts/458022-auto-toc?locale_override=1</a></li>
</ul>
<p>By default, it is not open. You need to go to the plug-in menu to open the switch for the website that wants to open the toc. The plug-in will remember this switch, and the toc will be generated automatically according to the switch when you open the website the next time.</p>
<p>可以为任何网站生成TOC网站目录大纲, 默认是不打开的, 需要去插件菜单里为想要打开 toc 的网站开启开关, 插件会记住这个开关, 下回再打开这个网站会自动根据开关来生成 toc 与否.</p>
<h1 id="Inspired-by"><a href="#Inspired-by" class="headerlink" title="Inspired by"></a>Inspired by</h1><ul>
<li><a href="https://github.com/FallenMax/smart-toc" target="_blank" rel="noopener">https://github.com/FallenMax/smart-toc</a> </li>
<li><a href="https://chrome.google.com/webstore/detail/lifgeihcfpkmmlfjbailfpfhbahhibba" target="_blank" rel="noopener">https://chrome.google.com/webstore/detail/lifgeihcfpkmmlfjbailfpfhbahhibba</a></li>
<li><a href="https://greasyfork.org/en/scripts/415856-bc-smarttoc" target="_blank" rel="noopener">https://greasyfork.org/en/scripts/415856-bc-smarttoc</a></li>
</ul>

          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/2022/08/22/tab_to_find/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="no5ix">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="烫">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/08/22/tab_to_find/" itemprop="url">Tab一下交互式搜一切文件且动态补全任何路径的shell插件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-08-22T22:48:12+00:00">
                2022-08-22
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GitHub/" itemprop="url" rel="index">
                    <span itemprop="name">GitHub</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <p><a href="https://github.com/no5ix/tab-to-find" target="_blank" rel="noopener"><i class="fa fa-fw fa-github fa-2x"></i>tab-to-find</a> </p>
<h1 id="tab-to-find"><a href="#tab-to-find" class="headerlink" title="tab-to-find"></a>tab-to-find</h1><p>一个tab就能交互式动态搜一切 !!</p>
<p>并且支持命令对于任何目录和文件的路径的 tab 动态补全 </p>
<p>对于经常要找文件和烦恼输入非常长的路径的人来说极为好用, 不用一个路径一个路径慢慢敲了, 可以一步搜索到位, 即使有<strong>几百万</strong>的文件, 也非常丝滑, 丝毫不卡</p>
<p>简称: T T F</p>
<h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1><p><img src="https://raw.githubusercontent.com/no5ix/tab-to-find/main/tab-to-find-demo.gif" alt="tab-to-find-demo.gif"></p>
<h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><p>跟平时一样按tab就完事</p>
<ul>
<li>不输入任何东西, tab 也可直接动态搜索当前目录以及子目录的所有目录和文件, 只是当做一个搜索工具也很好用</li>
<li>tab来补全<ul>
<li>可以不一定是头部完全匹配, 比如 输入 <code>doc</code> 然后 tab , 可以匹配 <code>test_doc</code> 也可以匹配 <code>doc_test</code> 也可以匹配 <code>test_doc_test</code></li>
<li>可以递归匹配当前目录的子目录的所有 <code>doc</code> 的文件/目录, 也就是说你可以在 <code>home</code> 目录输入 <code>cd doc</code> 然后从 <code>home</code> 目录一步直接 <code>cd</code> 到 <code>~/github/test-proj/documents</code> 里 !<ul>
<li>如果只有一个匹配项, 则自动补全<ul>
<li>比如匹配到了 <code>Documents/</code> , 但如果这不是你想要的, 你想要的是 <code>~/github/test-proj/documents</code> , 那你可以再按一次tab</li>
</ul>
</li>
<li>如果不只是有一个匹配项, 则会递归搜索子目录下的所有含有 <code>doc</code> 的文件夹</li>
</ul>
</li>
<li>如果 <code>cd</code> 后面跟的不是目录, 则自动进入到那个文件所在的目录, 比如输入 <code>cd ~/github/test.txt</code> 则可以直接进入到 <code>~/github</code> 这个文件夹里</li>
<li>如果输入以 <code>//</code> 结尾, 则可以只搜索一层目录的<strong>文件夹</strong>, 而不是递归搜索所有子目录的</li>
<li>如果输入以 <code>..</code> 结尾, 则可以只搜索一层目录的<strong>文件</strong>, 而不是递归搜索所有子目录的</li>
<li>同理 <code>vi</code>, <code>ln</code>, <code>mv</code>, <code>cp</code> 等等其他命令也是如此</li>
</ul>
</li>
</ul>
<h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><ul>
<li>Press tab to search everything</li>
<li>Press tab for completion as usual</li>
</ul>
<h1 id="安装方法"><a href="#安装方法" class="headerlink" title="安装方法"></a>安装方法</h1><ol>
<li>先安装fd, 按照 <a href="https://github.com/sharkdp/fd#installation" target="_blank" rel="noopener">fd的安装方法</a> 安装一下就行(一般来说就是一行命令就搞定), 不用额外配置</li>
<li>再安装fzf, 按照 <a href="https://github.com/junegunn/fzf#installation" target="_blank" rel="noopener">fzf的安装方法</a> 安装一下就行(一般来说就是一行命令就搞定), 不用额外配置</li>
<li>然后再按照下方的<a href="#手动方式">手动方式</a> 或者 走<a href="#OhMyZsh方式">Oh-My-Zsh方式</a>的方式来安装 <code>tab-to-find</code> 就可以了</li>
</ol>
<h2 id="手动方式"><a href="#手动方式" class="headerlink" title="手动方式"></a>手动方式</h2><p>先克隆一波这个项目</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/no5ix/tab-to-find ~/somewhere</span><br></pre></td></tr></table></figure>
<p>然后把下面这行加到你的 <code>~/.zshrc</code>.</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/somewhere/tab-to-find.plugin.zsh</span><br></pre></td></tr></table></figure>
<h2 id="OhMyZsh方式"><a href="#OhMyZsh方式" class="headerlink" title="OhMyZsh方式"></a>OhMyZsh方式</h2><p>执行下面这行命令</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/no5ix/tab-to-find <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/tab-to-find</span><br></pre></td></tr></table></figure>
<ol>
<li>然后<code>vim ~/.zshrc</code>, 找到七八十行左右 <code>plugins=(git)</code> 的位置 比如原来是 <code>plugins=(git)</code> 则改为 <code>plugins=(git tab-to-find)</code></li>
<li><code>source ~/.zshrc</code> 或者重启 zsh</li>
</ol>
<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><ol>
<li>Install <a href="https://github.com/sharkdp/fd" target="_blank" rel="noopener">fd</a> by following its <a href="https://github.com/sharkdp/fd#installation" target="_blank" rel="noopener">installation instruction</a>.</li>
<li>Install <a href="https://github.com/junegunn/fzf" target="_blank" rel="noopener">fzf</a> by following its <a href="https://github.com/junegunn/fzf#installation" target="_blank" rel="noopener">installation instruction</a>.</li>
<li>then install <code>tab-to-find</code> by following <a href="#Manual">Manual</a> or <a href="#OhMyZsh">Oh-My-Zsh</a> below</li>
</ol>
<h2 id="Manual"><a href="#Manual" class="headerlink" title="Manual"></a>Manual</h2><p>clone this repository.</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/no5ix/tab-to-find ~/somewhere</span><br></pre></td></tr></table></figure>
<p>Then add the following line to your <code>~/.zshrc</code>.</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/somewhere/tab-to-find.plugin.zsh</span><br></pre></td></tr></table></figure>
<h2 id="OhMyZsh"><a href="#OhMyZsh" class="headerlink" title="OhMyZsh"></a>OhMyZsh</h2><p>Clone this repository to your custom directory and then add <code>tab-to-find</code> to your plugin list.</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/no5ix/tab-to-find <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/tab-to-find</span><br></pre></td></tr></table></figure>

          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/2020/01/09/sux_readme/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="no5ix">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="烫">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/09/sux_readme/" itemprop="url">一个只有2M+大小的强大效率工具sux</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-01-09T22:09:39+00:00">
                2020-01-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GitHub/" itemprop="url" rel="index">
                    <span itemprop="name">GitHub</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <!-- [<i class="fa fa-fw fa-github fa-2x"></i>nox](https://github.com/no5ix/sux) 

An alternative to **Alfred**/**Wox**/**Listary**/**Capslock+** .

Inspired by Alfred/Wox/Listary/Capslock+/utools, thank u.

<video width="100%" controls="controls">
<source src="/img/sux/sux_intro.mp4" type="video/mp4" />
</video> -->
<p><img src="https://raw.githubusercontent.com/no5ix/no5ix.github.io/71f651a204bdf460b4b4330de8ac185794ee7b59/source/img/sux/sux.svg" alt="sux"></p>
<p><a href="https://github.com/no5ix/sux" target="_blank" rel="noopener"><i class="fa fa-fw fa-github fa-2x"></i>sux</a> </p>
<ul>
<li><a href="https://www.zhihu.com/question/310110592/answer/1909948496" target="_blank" rel="noopener">知乎链接</a></li>
<li><a href="https://github.com/no5ix/sux/releases" target="_blank" rel="noopener">下载链接</a></li>
</ul>
<p><code>sux</code> 是一个只有2M+大小的强大效率工具同时拥有</p>
<ul>
<li><a href="#翻译">翻译</a></li>
<li><a href="#历史剪切板clipboard-plus">历史剪切板</a></li>
<li><a href="#Everything搜索工具栏">Everything搜索工具栏</a></li>
<li><a href="#截图和贴图">截图 &amp; 贴图</a></li>
<li><a href="#快捷搜索search-plus">类似listary/alfred/wox的快捷搜索</a>: <code>shift+空格</code></li>
<li><a href="#类似macos的触发角hot-corner">类似macos的触发角</a></li>
<li><a href="#屏幕边缘触发器hot-edge">屏幕边缘触发器</a></li>
<li><a href="#快捷键完全自定义">全局自定义快捷键实现各种操作</a></li>
<li><a href="#文字替换器replace-text">文本替换器</a></li>
<li><a href="#文本变换器">文本变换器</a></li>
<li><a href="#托盘菜单">托盘菜单</a></li>
<li><a href="#cmds指令">快捷指令</a></li>
<li><a href="#自定义配置">可自定义的json配置</a></li>
<li>自定义主题</li>
<li>blabla…</li>
</ul>
<p>An alternative to <strong>Alfred</strong>/<strong>Wox</strong>/<strong>Listary</strong>/<strong>Capslock+</strong>/<strong>OneQuick</strong> .</p>
<p>Inspired by Alfred/Wox/Listary/Capslock+/utools/OneQuick, thank u.</p>
<!-- [![](https://github.com/no5ix/no5ix.github.io/blob/source/source//sux/sux/web_search.gif)](https://hulinhong.com/2020/01/09/sux_readme/)
点击图片来看完整视频.click img to see full video. -->
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/2025/01/12/na_java_top_questions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="no5ix">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="烫">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2025/01/12/na_java_top_questions/" itemprop="url">NA Java Top Questions</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2025-01-12T23:36:08+00:00">
                2025-01-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          
            <h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://zihan1997.github.io/presentation/interview_questions/" target="_blank" rel="noopener">小恐龙网站</a>, 本文的编号是基于这个网站中的编号的</p>
<h1 id="46-Types-of-Exceptions"><a href="#46-Types-of-Exceptions" class="headerlink" title="46-Types of Exceptions"></a>46-Types of Exceptions</h1><p><img src="/img/java_top_questions/image.png" alt="Exception"></p>
<ul>
<li><p>Java Exception hierarchy:</p>
<ul>
<li><p>throwable</p>
<ul>
<li>error<ul>
<li>error is like system error which can NOT be handled by program, like OutOfMemoryError, StackOverflowError etc.</li>
</ul>
</li>
<li><p>exception.</p>
<ul>
<li><p>Exception – compile/checked exception + runtime/unchecked exception. Checked exception can be handled using try catch block, like the SQLException, Thread InterrupttedException; Unchecked exception happens in runtime, like NullPointerException, IndexOutOfBoundException etc.</p>
</li>
<li><p>self defined exception: Just extend the java Exception class and define your own constructor and message</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>How to deal with exception<ul>
<li>Java: use Try/Catch/Finally block or use Throws on method level.</li>
<li>Spring: use @ExceptionHandler @ControllerAdvice on the controller level to catch exception in whole application</li>
</ul>
</li>
</ul>
<h1 id="43-Abstract-class-vs-Interface"><a href="#43-Abstract-class-vs-Interface" class="headerlink" title="43-Abstract class vs. Interface"></a>43-Abstract class vs. Interface</h1><p>Difference Between Interface and Abstract Class in Java</p>
<blockquote>
<p>In Java, interfaces and abstract classes are both used to define templates or contracts for other classes, but they have distinct purposes and characteristics. Below is a comparison with examples to clarify their differences.</p>
</blockquote>
<p>Key Differences</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Interface</th>
<th>Abstract Class</th>
</tr>
</thead>
<tbody>
<tr>
<td>Keyword</td>
<td>interface</td>
<td>abstract</td>
</tr>
<tr>
<td>Inheritance</td>
<td>A class can implement multiple interfaces.</td>
<td>A class can extend only one abstract class.</td>
</tr>
<tr>
<td>Method</td>
<td>Implementation    Methods are abstract by default (except <code>default</code> methods, which can have implementations).</td>
<td>Can contain both abstract and concrete (regular) methods.</td>
</tr>
<tr>
<td>Fields</td>
<td>Can only have <code>public</code> <code>static</code> <code>final</code> constants.</td>
<td>Can have instance variables.</td>
</tr>
<tr>
<td>Constructors</td>
<td>Not allowed.</td>
<td>Can have constructors.</td>
</tr>
<tr>
<td>Default Access Level</td>
<td>Methods are implicitly <code>public</code>.</td>
<td>Methods can have <code>public</code>, <code>protected</code>, or <code>package-private</code> access.</td>
</tr>
<tr>
<td>Use Case</td>
<td>Defines a contract or capability.</td>
<td>Defines shared characteristics or behavior.</td>
</tr>
</tbody>
</table>
<p>Example 1: Using an Interface</p>
<blockquote>
<p>An interface is used to define a set of behaviors (a contract) that a class must implement.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define an interface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;  <span class="comment">// Abstract method</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;  <span class="comment">// Abstract method</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Implement the interface</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Dog eats bones."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Dog sleeps in its kennel."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Animal myDog = <span class="keyword">new</span> Dog();</span><br><span class="line">        myDog.eat();   <span class="comment">// Output: Dog eats bones.</span></span><br><span class="line">        myDog.sleep(); <span class="comment">// Output: Dog sleeps in its kennel.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Example 2: Using an Abstract Class</p>
<blockquote>
<p>An abstract class is used when you want to share common code among related classes while still requiring subclasses to provide specific implementations.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define an abstract class</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>; <span class="comment">// Abstract method</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;       <span class="comment">// Concrete method</span></span><br><span class="line">        System.out.println(<span class="string">"Animal is sleeping."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Extend the abstract class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Cat eats fish."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Animal myCat = <span class="keyword">new</span> Cat();</span><br><span class="line">        myCat.eat();   <span class="comment">// Output: Cat eats fish.</span></span><br><span class="line">        myCat.sleep(); <span class="comment">// Output: Animal is sleeping.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>When to Use: </p>
<ul>
<li>Interface:<ul>
<li>Use an interface to define a set of behaviors or capabilities that a class must adhere to, without concerning how they are implemented.</li>
<li>Example: The Runnable interface defines the ability to be run in a thread.</li>
</ul>
</li>
<li>Abstract Class:<ul>
<li>Use an abstract class to represent shared characteristics or behavior while allowing subclasses to override specific parts.</li>
<li>Example: The HttpServlet abstract class provides a framework for handling HTTP requests while letting you implement methods like doGet() or doPost().</li>
</ul>
</li>
</ul>
<h1 id="44-New-feature-of-Java-8"><a href="#44-New-feature-of-Java-8" class="headerlink" title="44-New feature of Java 8"></a>44-New feature of Java 8</h1><p>Java 8 has several new features. Here are some of them along with examples of how they can be used in a project:</p>
<h2 id="1-Lambda-Expressions"><a href="#1-Lambda-Expressions" class="headerlink" title="1. Lambda Expressions"></a>1. Lambda Expressions</h2><p>Lambda expressions enable a more concise way to represent code blocks that can be passed to methods or stored in variables.</p>
<p>**Example: In an e-commerce project, filtering a list of products by price. Suppose there is a <code>Product</code> class with a <code>price</code> field.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Product</span><span class="params">(<span class="keyword">double</span> price, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Product&gt; products = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        products.add(<span class="keyword">new</span> Product(<span class="number">100</span>, <span class="string">"Product1"</span>));</span><br><span class="line">        products.add(<span class="keyword">new</span> Product(<span class="number">200</span>, <span class="string">"Product2"</span>));</span><br><span class="line">        products.add(<span class="keyword">new</span> Product(<span class="number">150</span>, <span class="string">"Product3"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Use Lambda expression to filter products with price greater than 150</span></span><br><span class="line">        List&lt;Product&gt; filteredProducts = products.stream()</span><br><span class="line">             .filter(product -&gt; product.getPrice() &gt; <span class="number">150</span>)</span><br><span class="line">             .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        filteredProducts.forEach(product -&gt; System.out.println(product.getPrice()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-Method-References"><a href="#2-Method-References" class="headerlink" title="2. Method References"></a>2. Method References</h2><p>Method references provide a more concise way to refer to existing methods.</p>
<p>**Example: In a logging project, there is a <code>Logger</code> class with a <code>logMessage</code> method for logging messages.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">logMessage</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Logging: "</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; messages = Arrays.asList(<span class="string">"Message1"</span>, <span class="string">"Message2"</span>, <span class="string">"Message3"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Use method reference to apply the logging method to each message</span></span><br><span class="line">        messages.forEach(Logger::logMessage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="3-Stream-API"><a href="#3-Stream-API" class="headerlink" title="3. Stream API"></a>3. Stream API</h2><p>The Stream API is used for performing functional operations on collections, such as filtering, mapping, and reducing.</p>
<p>**Example: In a data analysis project, calculating the total salary of employees. Suppose there is an <code>Employee</code> class with a <code>salary</code> field.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> salary;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(<span class="keyword">double</span> salary)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.salary = salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> salary;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Employee&gt; employees = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        employees.add(<span class="keyword">new</span> Employee(<span class="number">5000</span>));</span><br><span class="line">        employees.add(<span class="keyword">new</span> Employee(<span class="number">6000</span>));</span><br><span class="line">        employees.add(<span class="keyword">new</span> Employee(<span class="number">7000</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Use Stream API to calculate the total salary of employees</span></span><br><span class="line">        <span class="keyword">double</span> totalSalary = employees.stream()</span><br><span class="line">             .mapToDouble(Employee::getSalary)</span><br><span class="line">             .sum();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Total salary: "</span> + totalSalary);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="4-Optional-Class"><a href="#4-Optional-Class" class="headerlink" title="4. Optional Class"></a>4. Optional Class</h2><p>The Optional class is used to solve the problem of null pointer exceptions and handle potentially null values more gracefully.</p>
<p>**Example: In a user management system, getting a user’s email address. Suppose the <code>User</code> class has a <code>getEmail</code> method that might return <code>null</code>.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Optional;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String email)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getEmail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> email;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User(<span class="string">"example@example.com"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Use Optional class to safely get the user's email address</span></span><br><span class="line">        Optional&lt;String&gt; emailOptional = Optional.ofNullable(user.getEmail());</span><br><span class="line">        String email = emailOptional.orElse(<span class="string">"default@example.com"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Email: "</span> + email);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="67-Implement-a-singleton"><a href="#67-Implement-a-singleton" class="headerlink" title="67-Implement a singleton"></a>67-Implement a singleton</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">implements</span> <span class="title">Cloneable</span>, <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> CloneNotSupportedException(<span class="string">"Cloning of Singleton is not allowed."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">readResolve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getInstance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here is the explanation of this Java code in English:</p>
<ol>
<li>Package Import:<ul>
<li><code>import java.io.Serializable;</code>: Imports the <code>Serializable</code> interface, which is used to mark a class as serializable, meaning that objects of this class can be converted into a byte stream for storage or transmission.<ul>
<li>In a <code>Singleton</code> class, implementing the <code>Serializable</code> interface is to ensure that the Singleton pattern remains a singleton during serialization and deserialization.</li>
<li>If there is no <code>readResolve</code> method, a new object will be created during deserialization, which will break the Singleton pattern. Because the deserialization mechanism will create a new object through reflection instead of using the existing singleton instance.</li>
<li>When there is a <code>readResolve</code> method, during deserialization, the <code>readResolve</code> method will be called and it returns the singleton instance (obtained through the <code>getInstance</code> method), thus ensuring that the same singleton object is obtained after serialization and deserialization.</li>
<li>If the serialization - related content is not handled properly, multiple “singleton” objects may appear during deserialization, which violates the original intention of the Singleton pattern design. For example, suppose there is no <code>readResolve</code> method, each deserialization will create a new <code>Singleton</code> object instead of reusing the existing singleton object.</li>
</ul>
</li>
</ul>
</li>
<li>Class Definition:<ul>
<li><code>public class Singleton implements Cloneable, Serializable</code>: Defines a public class named <code>Singleton</code> that implements the <code>Cloneable</code> interface and the <code>Serializable</code> interface. Implementing the <code>Cloneable</code> interface usually indicates that objects of this class can be cloned (although in this example, the <code>clone</code> method is overridden to disallow cloning), and implementing the <code>Serializable</code> interface indicates that objects of this class can be serialized.</li>
</ul>
</li>
<li>Static Member Variable:<ul>
<li><code>private static volatile Singleton instance;</code>: Defines a private static variable <code>instance</code> of type <code>Singleton</code>. The <code>volatile</code> keyword is used to ensure thread-safe access to the variable in a multi-threaded environment. This prevents certain visibility and reordering issues that can occur in a multi-threaded context, making sure that changes made by one thread are visible to other threads immediately.</li>
</ul>
</li>
<li>Private Constructor:<ul>
<li><code>private Singleton() {}</code>: Declares a private constructor. This ensures that the <code>Singleton</code> class cannot be instantiated directly from outside the class. This is a common practice in implementing the Singleton design pattern, as it restricts the creation of <code>Singleton</code> objects to within the class itself.</li>
</ul>
</li>
<li>Static Method to Get Instance:<ul>
<li><code>public static Singleton getInstance() {... }</code>: Defines a public static method <code>getInstance</code> which is used to obtain the single instance of the <code>Singleton</code> class.<ul>
<li><code>if (instance == null) {... }</code>: Checks if the <code>instance</code> variable is <code>null</code>. If it is, then the code enters the synchronized block.</li>
<li><code>synchronized (Singleton.class) {... }</code>: Uses a synchronized block with the <code>Singleton.class</code> object as the lock. This ensures that only one thread can execute the code inside the block at a time, preventing multiple threads from creating multiple instances of the <code>Singleton</code> class.</li>
<li><code>if (instance == null) { instance = new Singleton(); }</code>: Inside the synchronized block, the code checks again if <code>instance</code> is <code>null</code> (this is known as double-checked locking) before creating a new instance of <code>Singleton</code>. This is done to avoid unnecessary synchronization overhead. Once the instance is created, subsequent calls to <code>getInstance</code> will simply return the already created instance.</li>
</ul>
</li>
</ul>
</li>
<li>Clone Method Override:<ul>
<li><code>@Override protected Object clone() throws CloneNotSupportedException {... }</code>: Overrides the <code>clone</code> method from the <code>Cloneable</code> interface. Here, it throws a <code>CloneNotSupportedException</code> with a message indicating that cloning of the <code>Singleton</code> object is not allowed. This is done to maintain the Singleton property, as we do not want multiple instances created through cloning.</li>
</ul>
</li>
<li>Read Resolve Method:<ul>
<li><code>protected Object readResolve() { return getInstance(); }</code>: The <code>readResolve</code> method is used during deserialization. When an object is deserialized, this method is called. Here, it returns the instance obtained from the <code>getInstance</code> method, ensuring that deserialization does not break the Singleton property. Instead of creating a new instance during deserialization, it returns the existing singleton instance, thus maintaining the Singleton guarantee.</li>
</ul>
</li>
</ol>
<p>In summary, this code implements the Singleton design pattern in Java, which ensures that only one instance of the <code>Singleton</code> class exists throughout the application. It uses double-checked locking for thread-safe lazy initialization of the instance, prevents cloning, and ensures that deserialization returns the existing singleton instance rather than creating a new one. This is a common and robust way of implementing the Singleton pattern in Java, taking into account thread safety and serialization issues.</p>
<h1 id="68-Executor-Service-and-Future-and-CompletableFuture"><a href="#68-Executor-Service-and-Future-and-CompletableFuture" class="headerlink" title="68-Executor Service and Future and CompletableFuture"></a>68-Executor Service and Future and CompletableFuture</h1><p>Benefits of using Executor Service and Future:</p>
<ul>
<li>Resource Management: <code>ExecutorService</code> manages threads efficiently, reducing the overhead of thread creation and destruction.</li>
<li>Asynchronous Execution: Allows tasks to be executed in parallel, improving the performance of applications by leveraging multiple threads.</li>
<li>Result Handling: <code>Future</code> provides a way to handle the results of asynchronous tasks, including waiting for the result, checking if the task is completed, and handling exceptions.</li>
</ul>
<p>In summary, <code>ExecutorService</code> simplifies thread management and task execution, while <code>Future</code> provides a mechanism to interact with the results of asynchronous tasks. Together, they are powerful tools for writing concurrent and asynchronous Java programs, helping to improve performance and code readability.</p>
<h2 id="Executor-Service"><a href="#Executor-Service" class="headerlink" title="Executor Service"></a>Executor Service</h2><ul>
<li>The <code>ExecutorService</code> is an interface in Java that provides a higher-level abstraction for executing tasks asynchronously compared to using raw threads. It is part of the <code>java.util.concurrent</code> package.</li>
<li>It manages a pool of threads, which can be used to execute <code>Runnable</code> or <code>Callable</code> tasks. By using an <code>ExecutorService</code>, you don’t have to deal with the low-level details of thread creation, management, and destruction.</li>
<li>You can submit tasks to the <code>ExecutorService</code>, and it will handle scheduling and execution of those tasks using its thread pool.</li>
<li>Some commonly used implementations of <code>ExecutorService</code> include <code>ThreadPoolExecutor</code> and <code>ScheduledThreadPoolExecutor</code>.</li>
<li><p>Example of creating an <code>ExecutorService</code>:</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExecutorServiceExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Creates a fixed-size thread pool with 5 threads</span></span><br><span class="line">        ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">5</span>);</span><br><span class="line">        <span class="comment">// Submits a Runnable task</span></span><br><span class="line">        executorService.execute(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">"Task executed by thread: "</span> + Thread.currentThread().getName());</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// Shuts down the executor service after all tasks are completed</span></span><br><span class="line">        executorService.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  In the code above:</p>
<ul>
<li><code>Executors.newFixedThreadPool(5)</code> creates a fixed-size thread pool with 5 threads.</li>
<li><code>executorService.execute()</code> submits a <code>Runnable</code> task to the executor service for execution. The <code>Runnable</code> task is defined using a lambda expression, which simply prints the name of the thread that executes the task.</li>
<li><code>executorService.shutdown()</code> shuts down the executor service after all submitted tasks have completed.</li>
</ul>
</li>
</ul>
<h2 id="Future"><a href="#Future" class="headerlink" title="Future"></a>Future</h2><ul>
<li>The <code>Future</code> interface represents the result of an asynchronous computation. It is used in conjunction with <code>ExecutorService</code> when you submit a <code>Callable</code> task.</li>
<li>A <code>Callable</code> is similar to a <code>Runnable</code>, but it can return a result and throw an exception.</li>
<li>When you submit a <code>Callable</code> to an <code>ExecutorService</code>, it returns a <code>Future</code> object, which you can use to check if the computation is done, wait for the computation to complete, and retrieve the result of the computation.</li>
<li><p>Example of using <code>Future</code> with <code>ExecutorService</code>:</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Future;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FutureExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">5</span>);</span><br><span class="line">        <span class="comment">// Submits a Callable task</span></span><br><span class="line">        Future&lt;Integer&gt; future = executorService.submit(<span class="keyword">new</span> Callable&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">                <span class="comment">// Simulates some computation</span></span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// Waits for the task to complete and gets the result</span></span><br><span class="line">            Integer result = future.get();</span><br><span class="line">            System.out.println(<span class="string">"Result: "</span> + result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException | ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        executorService.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  In the code above:</p>
<ul>
<li><code>executorService.submit()</code> is used to submit a <code>Callable&lt;Integer&gt;</code> task. The <code>Callable</code> task simulates some computation (in this case, it sleeps for 2 seconds and then returns the value 42).</li>
<li><code>future.get()</code> blocks the calling thread until the computation is completed and returns the result. If the computation throws an exception, it will be wrapped in an <code>ExecutionException</code>.</li>
<li><code>InterruptedException</code> is thrown if the waiting thread is interrupted while waiting for the result.</li>
</ul>
</li>
</ul>
<h2 id="CompletableFuture"><a href="#CompletableFuture" class="headerlink" title="CompletableFuture"></a>CompletableFuture</h2><ul>
<li><p><strong>Enhanced Functionality</strong>:</p>
<ul>
<li><code>CompletableFuture</code> is introduced in Java 8. It implements <code>Future</code> and provides additional functionality for chaining asynchronous operations, combining multiple futures, and handling exceptions.</li>
<li><p>It allows you to perform actions upon completion, combine multiple futures, and transform results.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.CompletableFuture;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompletableFutureExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        CompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class="line">            <span class="comment">// Simulate a long-running task</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Do other work while the future is being computed</span></span><br><span class="line">        System.out.println(<span class="string">"Doing other work..."</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Chain another action upon completion</span></span><br><span class="line">        CompletableFuture&lt;String&gt; resultFuture = future.thenApply(result -&gt; <span class="string">"Result: "</span> + result);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Block until the final result is available</span></span><br><span class="line">        String result = resultFuture.get();</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>CompletableFuture.supplyAsync(() -&gt; {... });</code>: Creates a <code>CompletableFuture</code> that runs the given task asynchronously.</li>
<li><code>future.thenApply(result -&gt; &quot;Result: &quot; + result);</code>: Chains another action to the <code>CompletableFuture</code>.</li>
<li><code>resultFuture.get();</code>: Blocks until the final result is available.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="Key-Differences"><a href="#Key-Differences" class="headerlink" title="Key Differences"></a>Key Differences</h2><ul>
<li><strong>Chaining and Composing</strong>:<ul>
<li><strong>Future</strong>: Does not support chaining or combining multiple asynchronous tasks.</li>
<li><strong>CompletableFuture</strong>: Allows chaining of operations using methods like <code>thenApply</code>, <code>thenCompose</code>, <code>thenCombine</code>, etc., enabling functional composition of asynchronous tasks.</li>
</ul>
</li>
<li><strong>Exception Handling</strong>:<ul>
<li><strong>Future</strong>: Limited to <code>get()</code> which throws checked exceptions.</li>
<li><strong>CompletableFuture</strong>: Provides methods like <code>exceptionally</code> and <code>handle</code> for better exception handling in asynchronous tasks.</li>
</ul>
</li>
<li><strong>Completion Control</strong>:<ul>
<li><strong>Future</strong>: You have to wait for the future to complete using <code>get()</code>.</li>
<li><strong>CompletableFuture</strong>: Allows you to complete the future manually using <code>complete()</code> or <code>completeExceptionally()</code>.</li>
</ul>
</li>
</ul>
<h2 id="Best-Practices"><a href="#Best-Practices" class="headerlink" title="Best Practices"></a>Best Practices</h2><ul>
<li><strong>Use Future</strong>: For simple asynchronous tasks where you only need to wait for a result.</li>
<li><strong>Use CompletableFuture</strong>: For complex asynchronous workflows, combining multiple tasks, and performing operations upon completion of tasks.</li>
</ul>
<p>By using <code>CompletableFuture</code>, you can write more readable and powerful asynchronous code, leveraging the functional programming features of Java 8 and later.</p>
<h1 id="70-Factory-Pattern-amp-Obeserver-Pattern"><a href="#70-Factory-Pattern-amp-Obeserver-Pattern" class="headerlink" title="70-Factory Pattern &amp; Obeserver Pattern"></a>70-Factory Pattern &amp; Obeserver Pattern</h1><ul>
<li><p>Factory Pattern</p>
<ul>
<li>This factory pattern allows you to create objects without exposing the instantiation logic to the client. The client only needs to interact with the <code>ProductFactory</code> and provide the product type, and the factory takes care of creating the appropriate product. This promotes loose coupling and makes the code more modular and maintainable.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Product interface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Product A</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductA</span> <span class="keyword">implements</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"This is ConcreteProductA"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Product B</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductB</span> <span class="keyword">implements</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"This is ConcreteProductB"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Factory class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Product <span class="title">createProduct</span><span class="params">(String productType)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (productType.equalsIgnoreCase(<span class="string">"A"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ConcreteProductA();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (productType.equalsIgnoreCase(<span class="string">"B"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ConcreteProductB();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Invalid product type: "</span> + productType);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Main class to demonstrate the factory pattern</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FactoryPatternExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ProductFactory factory = <span class="keyword">new</span> ProductFactory();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create product A</span></span><br><span class="line">        Product productA = factory.createProduct(<span class="string">"A"</span>);</span><br><span class="line">        productA.show();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create product B</span></span><br><span class="line">        Product productB = factory.createProduct(<span class="string">"B"</span>);</span><br><span class="line">        productB.show();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// Try to create an invalid product</span></span><br><span class="line">            Product invalidProduct = factory.createProduct(<span class="string">"C"</span>);</span><br><span class="line">            invalidProduct.show();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalArgumentException e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Observer Pattern</p>
<ul>
<li>This code demonstrates the Observer Pattern, which allows a subject to maintain a list of observers and notify them of any state changes. It promotes loose coupling between the subject and the observers, making it easy to add or remove observers without modifying the subject’s code.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Observer interface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(String message)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Subject interface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">attach</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">detach</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">notifyObservers</span><span class="params">(String message)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Subject</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteSubject</span> <span class="keyword">implements</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observers = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attach</span><span class="params">(Observer observer)</span> </span>&#123;</span><br><span class="line">        observers.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">detach</span><span class="params">(Observer observer)</span> </span>&#123;</span><br><span class="line">        observers.remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObservers</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Observer observer : observers) &#123;</span><br><span class="line">            observer.update(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Observer A</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteObserverA</span> <span class="keyword">implements</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ConcreteObserverA received message: "</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Observer B</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteObserverB</span> <span class="keyword">implements</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ConcreteObserverB received message: "</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Main class to demonstrate the Observer Pattern</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObserverPatternExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Create subject</span></span><br><span class="line">        ConcreteSubject subject = <span class="keyword">new</span> ConcreteSubject();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create observers</span></span><br><span class="line">        Observer observerA = <span class="keyword">new</span> ConcreteObserverA();</span><br><span class="line">        Observer observerB = <span class="keyword">new</span> ConcreteObserverB();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Attach observers to the subject</span></span><br><span class="line">        subject.attach(observerA);</span><br><span class="line">        subject.attach(observerB);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Notify observers</span></span><br><span class="line">        subject.notifyObservers(<span class="string">"Hello, Observers!"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Detach one observer</span></span><br><span class="line">        subject.detach(observerB);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Notify remaining observer</span></span><br><span class="line">        subject.notifyObservers(<span class="string">"Goodbye, Observers!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h1 id="448-Proxy-Pattern"><a href="#448-Proxy-Pattern" class="headerlink" title="448-Proxy Pattern"></a>448-Proxy Pattern</h1><p>The Proxy Design Pattern is a structural design pattern that provides a surrogate or placeholder for another object to control access to it. It is used to control access to the real object, add additional functionality, or provide a more efficient way of accessing the object. Here’s a detailed explanation:</p>
<h2 id="Structure-of-Proxy-Design-Pattern"><a href="#Structure-of-Proxy-Design-Pattern" class="headerlink" title="Structure of Proxy Design Pattern"></a>Structure of Proxy Design Pattern</h2><ul>
<li><strong>Subject</strong>: This is an interface that defines the common interface for the RealSubject and Proxy.</li>
<li><strong>RealSubject</strong>: This is the actual object that the proxy represents.</li>
<li><strong>Proxy</strong>: This is the object that controls access to the RealSubject. It has a reference to the RealSubject and implements the Subject interface.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Image</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RealImage</span> <span class="keyword">implements</span> <span class="title">Image</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String fileName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RealImage</span><span class="params">(String fileName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.fileName = fileName;</span><br><span class="line">        loadFromDisk();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">loadFromDisk</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Loading "</span> + fileName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Displaying "</span> + fileName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyImage</span> <span class="keyword">implements</span> <span class="title">Image</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> RealImage realImage;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String fileName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProxyImage</span><span class="params">(String fileName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.fileName = fileName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (realImage == <span class="keyword">null</span>) &#123;</span><br><span class="line">            realImage = <span class="keyword">new</span> RealImage(fileName);</span><br><span class="line">        &#125;</span><br><span class="line">        realImage.display();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>:</p>
<ol>
<li><strong>Interface <code>Image</code></strong>:<ul>
<li><code>interface Image</code> defines the <code>display()</code> method that both <code>RealImage</code> and <code>ProxyImage</code> will implement.</li>
</ul>
</li>
<li><strong>RealSubject <code>RealImage</code></strong>:<ul>
<li><code>RealImage</code> implements <code>Image</code>.</li>
<li>The <code>RealImage</code> constructor loads the image from disk when an instance is created.</li>
<li>The <code>display()</code> method displays the image.</li>
</ul>
</li>
<li><strong>Proxy <code>ProxyImage</code></strong>:<ul>
<li><code>ProxyImage</code> also implements <code>Image</code>.</li>
<li><code>ProxyImage</code> holds a reference to <code>RealImage</code>.</li>
<li>In the <code>display()</code> method of <code>ProxyImage</code>, if <code>realImage</code> is not instantiated, it creates a <code>RealImage</code> instance.</li>
<li>Then, it calls the <code>display()</code> method of <code>RealImage</code>.</li>
</ul>
</li>
</ol>
<h2 id="Use-Cases"><a href="#Use-Cases" class="headerlink" title="Use Cases"></a>Use Cases</h2><ul>
<li><strong>Remote Proxy</strong>: Used to represent an object that exists in a different address space, like a remote object in a distributed system.</li>
<li><strong>Virtual Proxy</strong>: Used to create expensive objects on demand. For example, loading images only when they are needed to be displayed.</li>
<li><strong>Protection Proxy</strong>: Used to control access to the real object, providing authentication or authorization.</li>
</ul>
<h2 id="Benefits"><a href="#Benefits" class="headerlink" title="Benefits"></a>Benefits</h2><ul>
<li><strong>Lazy Loading</strong>: Objects can be loaded only when they are needed, improving performance.</li>
<li><strong>Access Control</strong>: Provides a way to control access to the real object, adding security or authorization.</li>
<li><strong>Enhanced Functionality</strong>: Proxies can add additional functionality, like logging or caching, without modifying the real object.</li>
</ul>
<h2 id="Example-of-Usage"><a href="#Example-of-Usage" class="headerlink" title="Example of Usage"></a>Example of Usage</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyPatternExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Image image = <span class="keyword">new</span> ProxyImage(<span class="string">"test.jpg"</span>);</span><br><span class="line">        <span class="comment">// Image is loaded from disk only when display is called</span></span><br><span class="line">        image.display();</span><br><span class="line">        image.display();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>:</p>
<ol>
<li>We create a <code>ProxyImage</code> instance with the file name “test.jpg”.</li>
<li>The first time <code>display()</code> is called, <code>RealImage</code> is instantiated and the image is loaded and displayed.</li>
<li>The second time <code>display()</code> is called, the already instantiated <code>RealImage</code> is used, avoiding reloading.</li>
</ol>
<p>By using the Proxy Design Pattern, you can control access to objects, add functionality, and optimize performance by loading objects only when necessary.</p>
<h1 id="135-map-vs-flatMap"><a href="#135-map-vs-flatMap" class="headerlink" title="135-map vs. flatMap"></a>135-map vs. flatMap</h1><p>In functional programming, <code>Map</code> and <code>FlatMap</code> are two commonly used higher-order functions, especially in languages like Java, Scala, Python, and JavaScript. Here’s a detailed explanation of both:</p>
<ul>
<li><p>Map</p>
<ul>
<li><p>Purpose: The <code>Map</code> function takes a function and applies it to each element of a collection, transforming each element into a new element. The result is a collection of the same size, where each element has been transformed by the function.</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">        <span class="comment">// Map each integer to its square</span></span><br><span class="line">        List&lt;Integer&gt; squaredNumbers = numbers.stream()</span><br><span class="line">                                    .map(n -&gt; n * n)</span><br><span class="line">                                    .collect(Collectors.toList());</span><br><span class="line">        System.out.println(squaredNumbers);  <span class="comment">// [1, 4, 9, 16, 25]</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Explanation:<ol>
<li>We have a list of integers <code>numbers</code>.</li>
<li>We use the <code>stream()</code> method to convert the list into a stream.</li>
<li>The <code>map()</code> function takes a lambda expression <code>n -&gt; n * n</code>, which squares each element.</li>
<li>The <code>collect(Collectors.toList())</code> method collects the transformed elements back into a list.</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li><p>FlatMap</p>
<ul>
<li><p>Purpose: The <code>FlatMap</code> function takes a function that returns a collection for each element in the original collection. It then flattens all these collections into a single collection. It is used when you have a collection of collections and want to transform them into a single collection.</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FlatMapExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; numberLists = Arrays.asList(</span><br><span class="line">                Arrays.asList(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line">                Arrays.asList(<span class="number">3</span>, <span class="number">4</span>),</span><br><span class="line">                Arrays.asList(<span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">        );</span><br><span class="line">        <span class="comment">// FlatMap to convert a list of lists into a single list</span></span><br><span class="line">        List&lt;Integer&gt; flattenedNumbers = numberLists.stream()</span><br><span class="line">                                            .flatMap(list -&gt; list.stream())</span><br><span class="line">                                            .collect(Collectors.toList());</span><br><span class="line">        System.out.println(flattenedNumbers);  <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Explanation:<ol>
<li>We have a list of lists of integers <code>numberLists</code>.</li>
<li>We use <code>stream()</code> to convert the list of lists into a stream.</li>
<li>The <code>flatMap()</code> function takes a lambda expression <code>list -&gt; list.stream()</code>, which converts each inner list into a stream.</li>
<li>The <code>flatMap()</code> function then flattens all these streams into a single stream.</li>
<li>Finally, <code>collect(Collectors.toList())</code> collects the elements from the flattened stream into a single list.</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="374-Synchronized-Method-vs-Synchronized-block"><a href="#374-Synchronized-Method-vs-Synchronized-block" class="headerlink" title="374-Synchronized Method vs Synchronized block"></a>374-Synchronized Method vs Synchronized block</h1><ul>
<li><p>Synchronized Method</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedMethodExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">increment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Explanation:<ul>
<li>The <code>synchronized</code> keyword is applied directly to the method signature.</li>
<li>When a thread calls <code>increment()</code>, <strong>it acquires the lock on the object instance (this) of the class.</strong></li>
<li>No other thread can execute any other synchronized method of the same object until the first thread completes the execution of the synchronized method.</li>
<li>It’s a simple way to ensure thread safety but can lead to performance issues if the method contains non-critical code that doesn’t need synchronization.</li>
</ul>
</li>
</ul>
</li>
<li><p>Synchronized Block</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedBlockExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object lock = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">increment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Explanation:<ul>
<li>A synchronized block is used within a method.</li>
<li>The <code>synchronized (lock)</code> statement takes an object (in this case, <code>lock</code>) as an argument. This object serves as the lock.</li>
<li>Only one thread can enter the synchronized block that uses the same <code>lock</code> object at a time.</li>
<li>This allows for more granular control over what part of the method is synchronized, which can improve performance by limiting the scope of synchronization to only the critical section.</li>
</ul>
</li>
</ul>
</li>
<li>Key Differences<ul>
<li>Scope of Synchronization:<ul>
<li>Synchronized Method: The entire method is synchronized, even if not all code within the method requires synchronization.</li>
<li>Synchronized Block: Only the code within the synchronized block is synchronized, allowing other parts of the method to be executed concurrently by different threads.</li>
</ul>
</li>
<li>Lock Object:<ul>
<li>Synchronized Method: The lock object is the instance of the class itself (this) for instance methods, or the class object for static methods.</li>
<li>Synchronized Block: You can specify any object as the lock, giving you flexibility in choosing the granularity of locking.</li>
</ul>
</li>
<li>Performance:<ul>
<li>Synchronized Method: May lead to unnecessary locking and reduced performance if the method contains code that does not need to be synchronized.</li>
<li>Synchronized Block: Allows for more efficient locking by only synchronizing the necessary parts of the code.</li>
</ul>
</li>
</ul>
</li>
<li>Best Practices<ul>
<li>Use Synchronized Method: When the entire method needs to be thread-safe and the method is relatively small.</li>
<li>Use Synchronized Block: When only a part of the method needs to be synchronized, especially in longer methods where only a small part accesses shared resources.</li>
</ul>
</li>
</ul>
<h1 id="106-Thread"><a href="#106-Thread" class="headerlink" title="106-Thread"></a>106-Thread</h1><p>Here is an explanation of some important thread methods in Java: <code>join</code>, <code>wait</code>, <code>sleep</code>, and <code>yield</code>.</p>
<h2 id="join-Method"><a href="#join-Method" class="headerlink" title="join() Method"></a>join() Method</h2><ul>
<li><p>Purpose: The <code>join()</code> method is used to wait for a thread to complete its execution. It is often used when one thread needs to wait for another thread to finish before it can continue its own execution.</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JoinExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">                System.out.println(<span class="string">"Thread 1 completed"</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        thread1.join();</span><br><span class="line">        System.out.println(<span class="string">"Main thread continues after thread1 completes"</span>);</span><br><span class="line">        <span class="comment">/* result print:  </span></span><br><span class="line"><span class="comment">            Thread 1 completed</span></span><br><span class="line"><span class="comment">            Main thread continues after thread1 completes</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Explanation:<ol>
<li>We create a new <code>Thread</code> (<code>thread1</code>) which sleeps for 2 seconds and then prints a message.</li>
<li>We start <code>thread1</code> with <code>thread1.start()</code>.</li>
<li>We call <code>thread1.join()</code>, which makes the main thread wait until <code>thread1</code> completes its execution.</li>
<li>Only after <code>thread1</code> completes, the main thread prints its message.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="wait-Method"><a href="#wait-Method" class="headerlink" title="wait() Method"></a>wait() Method</h2><ul>
<li><p>Purpose: The <code>wait()</code> method is used to make a thread wait <strong>until some other thread notifies it</strong>. It must be called from a synchronized block or method, and it releases the lock on the object.</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WaitExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Object lock = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    System.out.println(<span class="string">"Thread 1 is waiting"</span>);</span><br><span class="line">                    lock.wait();</span><br><span class="line">                    System.out.println(<span class="string">"Thread 1 resumed"</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                System.out.println(<span class="string">"Thread 2 notifying"</span>);</span><br><span class="line">                lock.notify();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        thread2.start();</span><br><span class="line">        <span class="comment">/* result print:  </span></span><br><span class="line"><span class="comment">            Thread 1 is waiting</span></span><br><span class="line"><span class="comment">            Thread 2 notifying</span></span><br><span class="line"><span class="comment">            Thread 1 resumed</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Explanation:<ol>
<li>We create an object <code>lock</code> which serves as a lock for synchronization.</li>
<li><code>thread1</code> enters a synchronized block, calls <code>wait()</code>, and waits.</li>
<li><code>thread2</code> enters the same synchronized block, calls <code>notify()</code>, and wakes up <code>thread1</code>.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="sleep-Method"><a href="#sleep-Method" class="headerlink" title="sleep() Method"></a>sleep() Method</h2><ul>
<li><p>Purpose: The <code>sleep()</code> method is used to pause the execution of a thread for a specified amount of time. The thread does not release any locks during this time.</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SleepExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">"Thread 1 sleeping"</span>);</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">                System.out.println(<span class="string">"Thread 1 awake"</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        <span class="comment">/* result print:  </span></span><br><span class="line"><span class="comment">            Thread 1 sleeping</span></span><br><span class="line"><span class="comment">            Thread 1 awake</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Explanation:<ol>
<li>We create a new <code>Thread</code> (<code>thread1</code>).</li>
<li><code>thread1</code> calls <code>Thread.sleep(2000)</code>, which pauses the thread for 2 seconds.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="yield-Method"><a href="#yield-Method" class="headerlink" title="yield() Method"></a>yield() Method</h2><ul>
<li><p>Purpose: The <code>yield()</code> method is used to suggest to the thread scheduler that the current thread is willing to yield its current use of the processor. The thread scheduler is free to ignore this suggestion.</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">YieldExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">                System.out.println(<span class="string">"Thread 1: "</span> + i);</span><br><span class="line">                Thread.yield();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">                System.out.println(<span class="string">"Thread 2: "</span> + i);</span><br><span class="line">                Thread.yield();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">        <span class="comment">/* result print:  </span></span><br><span class="line"><span class="comment">            Thread 2: 0</span></span><br><span class="line"><span class="comment">            Thread 2: 1</span></span><br><span class="line"><span class="comment">            Thread 2: 2</span></span><br><span class="line"><span class="comment">            Thread 1: 0</span></span><br><span class="line"><span class="comment">            Thread 1: 1</span></span><br><span class="line"><span class="comment">            Thread 1: 2</span></span><br><span class="line"><span class="comment">            Thread 2: 3</span></span><br><span class="line"><span class="comment">            Thread 2: 4</span></span><br><span class="line"><span class="comment">            Thread 1: 3</span></span><br><span class="line"><span class="comment">            Thread 1: 4</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Explanation:<ol>
<li>We create two threads (<code>thread1</code> and <code>thread2</code>).</li>
<li>Each thread prints a message and calls <code>Thread.yield()</code>, suggesting that the scheduler can give the CPU to another thread.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="104-How-does-thread-communicate-interact-share-data-with-each-other"><a href="#104-How-does-thread-communicate-interact-share-data-with-each-other" class="headerlink" title="104-How does thread communicate/interact/share data with each other"></a>104-How does thread communicate/interact/share data with each other</h2><p>In Java, threads can communicate, interact, and share data with each other through several mechanisms. Here’s a detailed overview of these methods:</p>
<h3 id="Shared-Variables"><a href="#Shared-Variables" class="headerlink" title="Shared Variables"></a>Shared Variables</h3><ul>
<li><p><strong>Using Volatile Variables</strong>:</p>
<ul>
<li>A <code>volatile</code> variable ensures that all reads and writes to the variable are directly to and from main memory, not cached by threads. It is useful for simple flags or status indicators.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VolatileExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFlag</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        flag = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getFlag</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>private volatile boolean flag = false;</code>: Declares a <code>volatile</code> boolean variable.</li>
<li><code>setFlag()</code> sets the <code>flag</code> to <code>true</code>.</li>
<li><code>getFlag()</code> retrieves the value of <code>flag</code>.</li>
<li>Changes made by one thread to <code>flag</code> are immediately visible to other threads.</li>
</ol>
</li>
</ul>
<h3 id="Synchronization"><a href="#Synchronization" class="headerlink" title="Synchronization"></a>Synchronization</h3><ul>
<li><p><strong>Using Synchronized Methods and Blocks</strong>:</p>
<ul>
<li>Synchronization ensures that only one thread can access a synchronized method or block at a time, preventing race conditions.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SharedData</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">increment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>public synchronized void increment() {... }</code>: Synchronized method ensures thread-safe access to <code>count</code>.</li>
<li><code>public synchronized int getCount() {... }</code>: Ensures thread-safe access when reading <code>count</code>.</li>
</ol>
</li>
</ul>
<h3 id="Wait-Notify-and-NotifyAll"><a href="#Wait-Notify-and-NotifyAll" class="headerlink" title="Wait, Notify, and NotifyAll"></a>Wait, Notify, and NotifyAll</h3><ul>
<li><p><strong>Using wait(), notify(), and notifyAll()</strong>:</p>
<ul>
<li>These methods are used in conjunction with synchronized blocks to pause and resume threads.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WaitNotifyExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> ready = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object lock = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">waitForReady</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!ready) &#123;</span><br><span class="line">                lock.wait();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setReady</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">            ready = <span class="keyword">true</span>;</span><br><span class="line">            lock.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>waitForReady()</code> waits until <code>ready</code> is <code>true</code>, using <code>lock.wait()</code>.</li>
<li><code>setReady()</code> sets <code>ready</code> to <code>true</code> and wakes up waiting threads using <code>lock.notifyAll()</code>.</li>
</ol>
</li>
</ul>
<h3 id="Thread-Confinement"><a href="#Thread-Confinement" class="headerlink" title="Thread Confinement"></a>Thread Confinement</h3><ul>
<li><p><strong>Using ThreadLocal</strong>:</p>
<ul>
<li><code>ThreadLocal</code> allows each thread to have its own copy of a variable.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadLocalExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;Integer&gt; threadLocal = <span class="keyword">new</span> ThreadLocal&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        threadLocal.set(<span class="number">1</span>);</span><br><span class="line">        System.out.println(threadLocal.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>ThreadLocal&lt;Integer&gt; threadLocal = new ThreadLocal&lt;&gt;();</code>: Creates a <code>ThreadLocal</code> variable.</li>
<li><code>threadLocal.set(1);</code>: Sets the value for the current thread.</li>
<li><code>threadLocal.get();</code>: Retrieves the value for the current thread.</li>
</ol>
</li>
</ul>
<h3 id="Using-Concurrent-Data-Structures"><a href="#Using-Concurrent-Data-Structures" class="headerlink" title="Using Concurrent Data Structures"></a>Using Concurrent Data Structures</h3><ul>
<li><p><strong>Using Concurrent Collections</strong>:</p>
<ul>
<li>Java provides concurrent collections like <code>ConcurrentHashMap</code>, <code>CopyOnWriteArrayList</code>, etc., which are thread-safe.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.ConcurrentHashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcurrentMapExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ConcurrentHashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> ConcurrentHashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"key"</span>, <span class="number">1</span>);</span><br><span class="line">        System.out.println(map.get(<span class="string">"key"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>ConcurrentHashMap&lt;String, Integer&gt; map = new ConcurrentHashMap&lt;&gt;();</code>: Creates a thread-safe map.</li>
<li><code>map.put(&quot;key&quot;, 1);</code>: Puts an entry in the map.</li>
<li><code>map.get(&quot;key&quot;);</code>: Retrieves the value from the map.</li>
</ol>
</li>
</ul>
<h3 id="Using-Locks-and-Condition-Variables"><a href="#Using-Locks-and-Condition-Variables" class="headerlink" title="Using Locks and Condition Variables"></a>Using Locks and Condition Variables</h3><ul>
<li><p><strong>Using ReentrantLock and Condition</strong>:</p>
<ul>
<li><code>ReentrantLock</code> provides more flexible locking than <code>synchronized</code>, and <code>Condition</code> allows more control over waiting and signaling.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LockConditionExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition condition = lock.newCondition();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> ready = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">waitForReady</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (!ready) &#123;</span><br><span class="line">                condition.await();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setReady</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ready = <span class="keyword">true</span>;</span><br><span class="line">            condition.signalAll();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>ReentrantLock lock = new ReentrantLock();</code>: Creates a reentrant lock.</li>
<li><code>Condition condition = lock.newCondition();</code>: Creates a condition associated with the lock.</li>
<li><code>condition.await();</code> makes the thread wait.</li>
<li><code>condition.signalAll();</code> wakes up waiting threads.</li>
</ol>
</li>
</ul>
<p>By using these mechanisms, threads can communicate, interact, and share data safely and efficiently, avoiding race conditions and ensuring thread-safe access to shared resources.</p>
<h2 id="121-373-deadlock"><a href="#121-373-deadlock" class="headerlink" title="121-373-deadlock"></a>121-373-deadlock</h2><p>Deadlock is when you have 2 threads, Thread1 is waiting Thread2 to release lock on an object while Thread2 is waiting for Thread1 to release lock on an object. They are waiting on each other.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadLock</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> String R1 = <span class="string">"Hello Welcome to Pilot!"</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> String R2 = <span class="string">"Visit Pilot!"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// creating thread T1</span></span><br><span class="line">        Thread T1 = <span class="keyword">new</span> Thread() &#123;</span><br><span class="line">            <span class="comment">// implementing run method</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="comment">// thread T1 locking the R1 resource</span></span><br><span class="line">                <span class="keyword">synchronized</span> (R1) &#123;</span><br><span class="line">                    System.out.println(<span class="string">"Thread T1 locked -&gt;   Resource R1"</span>);</span><br><span class="line">                    <span class="comment">// thread T1 locking the R2 resource</span></span><br><span class="line">                    <span class="keyword">synchronized</span> (R2) &#123;</span><br><span class="line">                        System.out.println(<span class="string">"Thread T1 locked -&gt; Resource R2"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// creating thread T2</span></span><br><span class="line">        Thread T2 = <span class="keyword">new</span> Thread() &#123;</span><br><span class="line">            <span class="comment">// implementing run method</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="comment">// thread T2 locking the R2 resource</span></span><br><span class="line">                <span class="keyword">synchronized</span> (R2) &#123;</span><br><span class="line">                    System.out.println(<span class="string">"Thread T2 locked -&gt; Resource R2"</span>);</span><br><span class="line">                    <span class="comment">// thread T2 locking the R1 resource</span></span><br><span class="line">                    <span class="keyword">synchronized</span> (R1) &#123;</span><br><span class="line">                        System.out.println(<span class="string">"Thread T1 locked -&gt; Resource R1"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// starting both the threads</span></span><br><span class="line">        T1.start();</span><br><span class="line">        T2.start();</span><br><span class="line">        <span class="comment">/* result print:  </span></span><br><span class="line"><span class="comment">            Thread T1 locked -&gt;   Resource R1</span></span><br><span class="line"><span class="comment">            Thread T2 locked -&gt; Resource R2</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Finding-Deadlocks"><a href="#Finding-Deadlocks" class="headerlink" title="Finding Deadlocks"></a>Finding Deadlocks</h3><ul>
<li><p><strong>Thread Dump Analysis</strong>:</p>
<ul>
<li>You can use tools like <code>jstack</code> (part of the JDK) to take a thread dump of a running Java application. A thread dump shows the state of all threads, including which locks they hold and which locks they are waiting for.</li>
<li><p>Example of using <code>jstack</code>:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jstack &lt;PID&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Here, <code>&lt;PID&gt;</code> is the process ID of the Java application.</p>
</li>
<li>Analyzing the thread dump:<ul>
<li>Look for threads that are in the <code>BLOCKED</code> state. If two or more threads are waiting on locks held by each other, it indicates a deadlock.</li>
<li>For example, if Thread A is waiting for a lock held by Thread B, and Thread B is waiting for a lock held by Thread A, it’s a deadlock.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Java VisualVM</strong>:<ul>
<li>Java VisualVM is a monitoring and profiling tool. It can detect deadlocks automatically.</li>
<li>Steps:<ol>
<li>Start your Java application.</li>
<li>Open Java VisualVM.</li>
<li>Locate your application in the list of running Java processes.</li>
<li>Go to the “Threads” tab.</li>
<li>Look for deadlock warnings, and examine thread states and locks.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="Avoiding-Deadlocks"><a href="#Avoiding-Deadlocks" class="headerlink" title="Avoiding Deadlocks"></a>Avoiding Deadlocks</h3><ul>
<li><p><strong>Lock Ordering</strong>:</p>
<ul>
<li>Always acquire locks in a consistent order across all threads.</li>
<li><p>Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeadlockAvoidance</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object lock1 = <span class="keyword">new</span> Object();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object lock2 = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (lock1) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock2) &#123;</span><br><span class="line">                <span class="comment">// Critical section</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (lock1) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock2) &#123;</span><br><span class="line">                <span class="comment">// Critical section</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Explanation</strong>:</p>
<ul>
<li>Both <code>method1()</code> and <code>method2()</code> acquire <code>lock1</code> before <code>lock2</code>. This ensures that no thread holds <code>lock2</code> while waiting for <code>lock1</code>.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Lock Timeout</strong>:</p>
<ul>
<li>Use <code>tryLock()</code> with a timeout instead of <code>synchronized</code> or <code>lock()</code>.</li>
<li><p>Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimeoutLockExample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Lock lock1 = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Lock lock2 = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> lock1Acquired = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">boolean</span> lock2Acquired = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock1Acquired = lock1.tryLock(<span class="number">100</span>, TimeUnit.MILLISECONDS);</span><br><span class="line">            lock2Acquired = lock2.tryLock(<span class="number">100</span>, TimeUnit.MILLISECONDS);</span><br><span class="line">            <span class="keyword">if</span> (lock1Acquired &amp;&amp; lock2Acquired) &#123;</span><br><span class="line">                <span class="comment">// Critical section</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="comment">// Handle interruption</span></span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (lock1Acquired) lock1.unlock();</span><br><span class="line">            <span class="keyword">if</span> (lock2Acquired) lock2.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>tryLock(100, TimeUnit.MILLISECONDS)</code> tries to acquire the lock with a timeout of 100 milliseconds.</li>
<li>If the lock cannot be acquired within the timeout, the thread can take corrective action.</li>
</ol>
</li>
</ul>
</li>
<li><strong>Avoid Nested Locks</strong>:<ul>
<li>Minimize the use of nested locks. If possible, design your code to use a single lock or fewer nested locks.</li>
</ul>
</li>
</ul>
<h3 id="Best-Practices-1"><a href="#Best-Practices-1" class="headerlink" title="Best Practices"></a>Best Practices</h3><ul>
<li><strong>Resource Allocation Graph</strong>:<ul>
<li>Use a resource allocation graph to analyze potential deadlocks before implementation.</li>
<li>Ensure that the graph does not contain cycles, which indicate potential deadlocks.</li>
</ul>
</li>
<li><strong>Deadlock Detection Algorithms</strong>:<ul>
<li>Implement deadlock detection algorithms like the Banker’s algorithm in more complex systems, especially in operating systems or resource management systems.</li>
</ul>
</li>
</ul>
<h1 id="118-Relationship-between-equals-and-hashcode"><a href="#118-Relationship-between-equals-and-hashcode" class="headerlink" title="118-Relationship between equals() and hashcode()"></a>118-Relationship between equals() and hashcode()</h1><p>In Java, the <code>equals()</code> method is used to compare the equality of two objects. Here’s a detailed explanation:</p>
<h2 id="Default-Implementation"><a href="#Default-Implementation" class="headerlink" title="Default Implementation"></a>Default Implementation</h2><ul>
<li>The <code>equals()</code> method is defined in the <code>Object</code> class, which is the superclass of all classes in Java.</li>
<li><p>The default implementation of <code>equals()</code> uses the <code>==</code> operator, which checks if two references point to the same object (i.e., reference equality).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EqualsExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Object obj1 = <span class="keyword">new</span> Object();</span><br><span class="line">        Object obj2 = <span class="keyword">new</span> Object();</span><br><span class="line">        Object obj3 = obj1;</span><br><span class="line"></span><br><span class="line">        System.out.println(obj1.equals(obj2)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(obj1.equals(obj3)); <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>obj1.equals(obj2)</code> returns <code>false</code> because <code>obj1</code> and <code>obj2</code> are different object instances.</li>
<li><code>obj1.equals(obj3)</code> returns <code>true</code> because <code>obj3</code> refers to the same object as <code>obj1</code>.</li>
</ol>
</li>
</ul>
<h2 id="Overriding-equals"><a href="#Overriding-equals" class="headerlink" title="Overriding equals()"></a>Overriding equals()</h2><ul>
<li><p>You should override the <code>equals()</code> method in your custom classes if you want to compare objects based on their state (content equality) rather than reference equality.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass()!= o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Person person = (Person) o;</span><br><span class="line">        <span class="keyword">return</span> age == person.age &amp;&amp; name.equals(person.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>if (this == o) return true;</code> checks if the objects are the same reference.</li>
<li><code>if (o == null || getClass()!= o.getClass()) return false;</code> checks if <code>o</code> is <code>null</code> or not of the same class.</li>
<li><code>Person person = (Person) o;</code> casts <code>o</code> to <code>Person</code>.</li>
<li><code>return age == person.age &amp;&amp; name.equals(person.name);</code> compares the <code>age</code> and <code>name</code> fields.</li>
</ol>
</li>
</ul>
<h2 id="hashCode-and-equals"><a href="#hashCode-and-equals" class="headerlink" title="hashCode() and equals()"></a>hashCode() and equals()</h2><ul>
<li>If you override <code>equals()</code>, you should also override <code>hashCode()</code>.</li>
<li><p>The <code>hashCode()</code> method is used in hash-based collections like <code>HashMap</code> and <code>HashSet</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass()!= o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Person person = (Person) o;</span><br><span class="line">        <span class="keyword">return</span> age == person.age &amp;&amp; name.equals(person.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = name.hashCode();</span><br><span class="line">        result = <span class="number">31</span> * result + age;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>hashCode()</code> is overridden to generate a hash code based on <code>name</code> and <code>age</code>.</li>
<li>The formula <code>int result = name.hashCode(); result = 31 * result + age;</code> is a common way to combine hash codes.</li>
</ol>
</li>
</ul>
<h2 id="Rules-for-equals"><a href="#Rules-for-equals" class="headerlink" title="Rules for equals()"></a>Rules for equals()</h2><ul>
<li><strong>Reflexive</strong>: <code>x.equals(x)</code> should always be <code>true</code>.</li>
<li><strong>Symmetric</strong>: If <code>x.equals(y)</code> is <code>true</code>, then <code>y.equals(x)</code> should also be <code>true</code>.</li>
<li><strong>Transitive</strong>: If <code>x.equals(y)</code> is <code>true</code> and <code>y.equals(z)</code> is <code>true</code>, then <code>x.equals(z)</code> should be <code>true</code>.</li>
<li><strong>Consistent</strong>: Repeated calls to <code>equals()</code> should return the same result, if the objects have not changed.</li>
<li><strong>Null Check</strong>: <code>x.equals(null)</code> should always be <code>false</code>.</li>
</ul>
<h2 id="Using-equals"><a href="#Using-equals" class="headerlink" title="Using equals()"></a>Using equals()</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EqualsUsage</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">"John"</span>, <span class="number">30</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">"John"</span>, <span class="number">30</span>);</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person(<span class="string">"Jane"</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(p1.equals(p2)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(p1.equals(p3)); <span class="comment">// false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Explanation</strong>:<ol>
<li><code>p1.equals(p2)</code> returns <code>true</code> because <code>p1</code> and <code>p2</code> have the same <code>name</code> and <code>age</code>.</li>
<li><code>p1.equals(p3)</code> returns <code>false</code> because <code>p1</code> and <code>p3</code> have different <code>name</code> and <code>age</code>.</li>
</ol>
</li>
</ul>
<p>By understanding and correctly implementing the <code>equals()</code> method, you can ensure proper object comparison, especially in collections and other scenarios where content equality is required.</p>
<h1 id="What-is-fail-fast-and-fail-safe"><a href="#What-is-fail-fast-and-fail-safe" class="headerlink" title="What is fail-fast and fail-safe?"></a>What is fail-fast and fail-safe?</h1><p>In Java, the <code>equals()</code> method is used to compare the equality of two objects. Here’s a detailed explanation:</p>
<h2 id="Default-Implementation-1"><a href="#Default-Implementation-1" class="headerlink" title="Default Implementation"></a>Default Implementation</h2><ul>
<li>The <code>equals()</code> method is defined in the <code>Object</code> class, which is the superclass of all classes in Java.</li>
<li><p>The default implementation of <code>equals()</code> uses the <code>==</code> operator, which checks if two references point to the same object (i.e., reference equality).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EqualsExample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Object obj1 = <span class="keyword">new</span> Object();</span><br><span class="line">        Object obj2 = <span class="keyword">new</span> Object();</span><br><span class="line">        Object obj3 = obj1;</span><br><span class="line"></span><br><span class="line">        System.out.println(obj1.equals(obj2)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(obj1.equals(obj3)); <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>obj1.equals(obj2)</code> returns <code>false</code> because <code>obj1</code> and <code>obj2</code> are different object instances.</li>
<li><code>obj1.equals(obj3)</code> returns <code>true</code> because <code>obj3</code> refers to the same object as <code>obj1</code>.</li>
</ol>
</li>
</ul>
<h2 id="Overriding-equals-1"><a href="#Overriding-equals-1" class="headerlink" title="Overriding equals()"></a>Overriding equals()</h2><ul>
<li><p>You should override the <code>equals()</code> method in your custom classes if you want to compare objects based on their state (content equality) rather than reference equality.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass()!= o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Person person = (Person) o;</span><br><span class="line">        <span class="keyword">return</span> age == person.age &amp;&amp; name.equals(person.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>if (this == o) return true;</code> checks if the objects are the same reference.</li>
<li><code>if (o == null || getClass()!= o.getClass()) return false;</code> checks if <code>o</code> is <code>null</code> or not of the same class.</li>
<li><code>Person person = (Person) o;</code> casts <code>o</code> to <code>Person</code>.</li>
<li><code>return age == person.age &amp;&amp; name.equals(person.name);</code> compares the <code>age</code> and <code>name</code> fields.</li>
</ol>
</li>
</ul>
<h2 id="hashCode-and-equals-1"><a href="#hashCode-and-equals-1" class="headerlink" title="hashCode() and equals()"></a>hashCode() and equals()</h2><ul>
<li>If you override <code>equals()</code>, you should also override <code>hashCode()</code>.</li>
<li><p>The <code>hashCode()</code> method is used in hash-based collections like <code>HashMap</code> and <code>HashSet</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass()!= o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Person person = (Person) o;</span><br><span class="line">        <span class="keyword">return</span> age == person.age &amp;&amp; name.equals(person.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = name.hashCode();</span><br><span class="line">        result = <span class="number">31</span> * result + age;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Explanation</strong>:</p>
<ol>
<li><code>hashCode()</code> is overridden to generate a hash code based on <code>name</code> and <code>age</code>.</li>
<li>The formula <code>int result = name.hashCode(); result = 31 * result + age;</code> is a common way to combine hash codes.</li>
</ol>
</li>
</ul>
<h2 id="Rules-for-equals-1"><a href="#Rules-for-equals-1" class="headerlink" title="Rules for equals()"></a>Rules for equals()</h2><ul>
<li><strong>Reflexive</strong>: <code>x.equals(x)</code> should always be <code>true</code>.</li>
<li><strong>Symmetric</strong>: If <code>x.equals(y)</code> is <code>true</code>, then <code>y.equals(x)</code> should also be <code>true</code>.</li>
<li><strong>Transitive</strong>: If <code>x.equals(y)</code> is <code>true</code> and <code>y.equals(z)</code> is <code>true</code>, then <code>x.equals(z)</code> should be <code>true</code>.</li>
<li><strong>Consistent</strong>: Repeated calls to <code>equals()</code> should return the same result, if the objects have not changed.</li>
<li><strong>Null Check</strong>: <code>x.equals(null)</code> should always be <code>false</code>.</li>
</ul>
<h2 id="Using-equals-1"><a href="#Using-equals-1" class="headerlink" title="Using equals()"></a>Using equals()</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EqualsUsage</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">"John"</span>, <span class="number">30</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">"John"</span>, <span class="number">30</span>);</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person(<span class="string">"Jane"</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(p1.equals(p2)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(p1.equals(p3)); <span class="comment">// false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Explanation</strong>:<ol>
<li><code>p1.equals(p2)</code> returns <code>true</code> because <code>p1</code> and <code>p2</code> have the same <code>name</code> and <code>age</code>.</li>
<li><code>p1.equals(p3)</code> returns <code>false</code> because <code>p1</code> and <code>p3</code> have different <code>name</code> and <code>age</code>.</li>
</ol>
</li>
</ul>
<p>By understanding and correctly implementing the <code>equals()</code> method, you can ensure proper object comparison, especially in collections and other scenarios where content equality is required.</p>

          
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
      
        

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hulinhong.com/2024/12/30/eng_youtube_indian_top_view_of_binary_tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="no5ix">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="烫">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/12/30/eng_youtube_indian_top_view_of_binary_tree/" itemprop="url">YT Indian Accent Top View of Binary Tree</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-12-30T00:59:21+00:00">
                2024-12-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/English/" itemprop="url" rel="index">
                    <span itemprop="name">English</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    




    
    
    
    <div class="post-body" itemprop="articleBody">
      
      

      

      
      
        <div class="post-eof"></div>
      

      
      

      
        
          <h1 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h1><p><a href="https://www.youtube.com/watch?v=Et9OCDNvJ78" target="_blank" rel="noopener">https://www.youtube.com/watch?v=Et9OCDNvJ78</a></p>
<p><strong>. . .</strong>
          <!--noindex-->
          
          <!--/noindex-->
        
      


      

    
      <footer class="post-footer">
        

        

        

        
        
          <div class="post-eof"></div>
        
      </footer>
      
    </p></div>
    
    
    

    

    

    

  </div>
  
  
  
  </article>


      
    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  

  <aside id="sidebar" class="sidebar">

    
      
        <div id="sidebar-dimmer"></div>
      
    

    <div class="sidebar-inner">
    
      <div class="sidebar-toggle-inside motion-element">
        <div class="sidebar-toggle-line-wrap">
          <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
          <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
        </div>
      </div>

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="site-author-image" rel="start" style="border:none">
            <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="no5ix">
          </a>
          <p class="site-author-name" itemprop="name">no5ix</p>
           
              <p class="site-description motion-element" itemprop="description">推荐使用Chrome/Firefox/Safari阅读本博客. 以前的老笔记将会一篇一篇慢慢整理为博客, 这既启发了他人, 也锻炼了自己的描述交流能力.</p>
          
        </div>

        <nav class="site-state motion-element">

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">271</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">99</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

          <div class="site-state-item site-state-about">
            <a href="/about/">
              <span class="site-state-item-about fa fa-fw fa-user"></span>
              <span class="site-state-item-name">关于</span>
            </a>
          </div>
          
        </nav>

        

        <div class="links-of-author motion-element">
          
          
          <!-- 网易云音乐 -->
            <!-- <div class="netease-cloud-music"> -->
              <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=110 src="//music.163.com/outchain/player?type=0&id=992743594&auto=0&height=90"></iframe> -->
            <!-- </div> -->
          <!-- 网易云音乐 -->

        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://119.23.17.57" title="ksun的博客" target="_blank">ksun的博客</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzU3MTUyNzg0NQ==&hid=1&sn=7a3ae61b7af714f75d68e7ae826a2d2c&scene=18#wechat_redirect" title="你有图么我有故事" target="_blank">你有图么我有故事</a>
                </li>
              
            </ul>
          </div>
        

        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">no5ix</span>
</div>



        

        
      </div>
    </footer>

    <!--
    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      
        <span id="scrollpercent"><span>0</span>%</span>
      
    </div>
    -->

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/dist/jquery.fancybox.js?v=3.2.10"></script>


  




  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>


  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

  <script type="text/javascript">

    var is_load_xml_finished = 0;

    var searchFunc = function (path, search_id, content_id) {
      // 0x00. environment initialization
      'use strict';

      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      // var datas = [];

      /* loading css1 : Dot Css Loader*/
      var DotLoader = "<div class='loader'>Loading...</div>";

      /* loading css2 : Pure Css Loader - Square */
      var SquareLoader = 
        "<div class='loader'>" +
          "<div class='square' ></div>" +
          "<div class='square'></div>" +
          "<div class='square last'></div>" +
          "<div class='square clear'></div>" +
          "<div class='square'></div>" +
          "<div class='square last'></div>" +
          "<div class='square clear'></div>" +
          "<div class='square '></div>" +
          "<div class='square last'></div>" +
        "</div>";

      var ProgressBar = 
          "<div class='progress-bar'>" +
            "<div class='progress-bar-charge'></div>" +
          "</div>";

      var str = "";
      var keywords = [];
      var temp_keyword = "";

      // 是否为第一个字母被键入的标志位
      var first_char_flag = 0;

      // 因为在移动设备上, 点击搜索之后会 scroll 到页面顶部, 所以需要记录之前的页面x, y坐标值, 以便于搜索完点击 close 按钮之后 scroll 回原来的页面坐标值.
      var last_page_x = 0;
      var last_page_y = 0;

      var local_search_tips = 
            "<span class='local-search-empty'>" + "第一次搜索可能较慢, 先思考一个经典算法问题, 跳台阶:" + "</span>" +
            "<span class='local-search-empty'>" + "一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个6级的台阶总共有多少种跳法?n级呢?" + "</span>";

      function CloseLocalSearch()
      {
        first_char_flag = 0;

        $('#local-search-input').val('');
        $('#local-search-close').hide();

        // $('.local-search-result-cls ul li').velocity('stop').velocity('transition.slideDownOut', 200);

        $('#' + content_id).attr("headroom_special_attr","true"); 
        
        if (isMobile())
        {
          // $('body').scrollTop(last_page_y);  // scrollTop 有兼容性问题
          scrollTo(last_page_x, last_page_y);

          $('#' + content_id).hide();
        }
        else
        {
          $('#' + content_id).velocity('stop').velocity( 'transition.bounceUpOut', 200 );
        }

        // $('#' + content_id).velocity('stop').velocity( isMobile() ? 'transition.fadeOut' : 'transition.bounceUpOut', {
        //   // delay: isMobile() ? 50 : 0,
        //   duration: isMobile() ? 500 : 200,
        //   // begin: function() { 
        //   //   if (isMobile())
        //   //   {
        //   //     $('body').scrollTop(last_page_y);
        //   //   } 
        //   // }
        //   complete: function () {
        //     if (isMobile())
        //     {
        //       if (last_page_y < 20000)
        //       {
        //         $('body').velocity('scroll', { offset: last_page_y+"px", duration: last_page_y < 10000 ? 1000 : 2000 });
        //       }
        //       else
        //       {
        //         $('body').scrollTop(last_page_y);
        //       }
        //       // $('body').velocity('scroll');

        //       // $('html,body').animate({
        //       //   scrollTop: last_page_y
        //       // },400);
        //       // $('body').velocity('transition.slideDownIn', 1000);
        //       // $('body').velocity('scroll', { offset: last_page_y+"px", duration: document.body.scrollHeight < 20000 ? 1500 : 3000 });
        //     }
        //   }
        // });
      }

      function handleSearch()
      {
        if (keywords.length <= 0) {
          return;
        }
        $resultContent.innerHTML = "";
        $('#local-search-close').show();

        // 0x04. perform local searching
        if (is_load_xml_finished == 0)
        {
          $resultContent.innerHTML = 
            "<ul class='local-search-empty-ul'>" + 
            local_search_tips +
            ProgressBar;
        }
        else
        {
          // Retrieve the object from local storage
          var xml_resp = retrieve_search_xml()

          xml_resp.forEach(function (data) {
          // datas.forEach(function (data) {
            var isMatch = true;
            var content_index = [];
            if (!data.title || data.title.trim() === '') {
              data.title = "Untitled";
            }
            var is_encrypted = data.encrypted.trim() == '1'
            var is_sensitive = CONFIG.local_search.sensitive_word && data_content.indexOf(CONFIG.local_search.sensitive_word) >= 0
            var orig_data_title = data.title.trim();
            var data_title = orig_data_title.toLowerCase();
            var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
            var data_content = orig_data_content.toLowerCase();
            var data_url = decodeURIComponent(data.url);
            var index_title = -1;
            var index_content = -1;
            var first_occur = -1;
            // only match artiles with not empty contents
            if (data_content !== '') {
              keywords.forEach(function (keyword, i) {
                index_title = data_title.indexOf(keyword);
                index_content = (is_sensitive || is_encrypted) ? -1 : data_content.indexOf(keyword);

                if (index_title < 0 && index_content < 0) {
                  isMatch = false;
                } else {
                  if (index_content < 0) {
                    index_content = 0;
                  }
                  if (i == 0) {
                    first_occur = index_content;
                  }
                  // content_index.push({index_content:index_content, keyword_len:keyword_len});
                }
              });
            } else {
              isMatch = false;
            }
            // 0x05. show search results
            if (isMatch) {
              var content = orig_data_content;
              if (first_occur >= 0) {
                var match_content = "";
                if (!is_sensitive && !is_encrypted)
                {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  match_content = content.substr(start, end);
                }

                // highlight all keywords
                var regS = "";
                if (match_content != "")
                {
                  keywords.forEach(function (keyword) {
                    regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<b class=\"search-keyword\">" + keyword + "</b>");
                    orig_data_title = orig_data_title.replace(regS, "<b class=\"search-keyword\">" + keyword + "</b>");
                  });
                }
                else
                {
                  keywords.forEach(function (keyword) {
                    regS = new RegExp(keyword, "gi");
                    orig_data_title = orig_data_title.replace(regS, "<b class=\"search-keyword\">" + keyword + "</b>");
                  });
                }
                str += "<li><a href='" + data_url + "' class='search-result-title' target='_blank'>" + orig_data_title + "</a>";
                str += "<p class=\"search-result\">" + match_content + "...</p>"
              }
              str += "</li>";
            }
          });

          str += "</ul>";
          if (str.indexOf('<li>') === -1) {
            return $resultContent.innerHTML = 
              "<ul class='local-search-empty-ul'><span class='local-search-empty'>找不到, 换个搜索关键字试一哈.<span></ul>";
          }
          $resultContent.innerHTML = str;
        }
      }

      $input.addEventListener('input', function () {
        // 0x03. parse query to keywords list
        str = '<ul class=\"search-result-list\">';
        temp_keyword = this.value.trim();
        if (temp_keyword.length <= 0) {
          CloseLocalSearch();
          return;
        }

        keywords = temp_keyword.toLowerCase().split(/[\s\-]+/);
        handleSearch();

        // 当用户键入第一个字母的时候的动画处理逻辑 : 
        // 当 first_char_flag 为 0 的时候, 
        // 要播放一个动画
        if (first_char_flag == 0)
        {
            // $('body').scrollTop(0);
          if (isMobile())
          {
            last_page_x = window.pageXOffset;
            last_page_y = window.pageYOffset;
            // $('body').scrollTop(0);
            scrollTo(0,0);

          }
          first_char_flag = 1;
          $('#' + content_id).removeAttr("headroom_special_attr");
          
          $('#' + content_id).velocity('stop').velocity('transition.slideDownIn', 300);

          $('.local-search-result-cls ul li').velocity('stop').velocity('transition.slideDownIn', 1000);
        }
      });


      var local_search_xml_data = localStorage.getItem('local_search_xml_data');
      if (!local_search_xml_data) {
        $.ajax({
          // 0x01. load xml file
          url: path,
          dataType: "xml",
          success: function (xmlResponse) {
            store_search_xml(xmlResponse);

            // setTimeout(function(){
            //   is_load_xml_finished = 1;

            //   handleSearch();
            //   $('.local-search-result-cls ul li').velocity('stop').velocity('transition.slideDownIn', 800);
            // }, 2000);
            
            // is_load_xml_finished = 1;

            handleSearch();
            $('.local-search-result-cls ul li').velocity('stop').velocity('transition.slideDownIn', 800);
          }
        });
      }

      $(document).on('click', '#local-search-close', function() {
        CloseLocalSearch();
      });

      $(document).keyup(function(event){
        switch(event.keyCode) {
          case 27:
            // alert("ESC");
            CloseLocalSearch();
        }
      });

      // $(document).on('blur', '#local-search-input', function(e) {
      //   // console.log(document.activeElement.getAttribute('class'));
        
      //   if (isMobile() == false)
      //   {
      //     CloseLocalSearch();
      //   }
      // });
    }

    function isMobile() {
      // console.log(document.body.clientWidth);
      return document.body.clientWidth < 768

      // var userAgent = window.navigator.userAgent;

      // var isiPad = userAgent.match(/iPad/i) !== null;
      // var mobileUA = [
      //   'iphone', 'android', 'phone', 'mobile',
      //   'wap', 'netfront', 'x11', 'java', 'opera mobi',
      //   'opera mini', 'ucweb', 'windows ce', 'symbian',
      //   'symbianos', 'series', 'webos', 'sony',
      //   'blackberry', 'dopod', 'nokia', 'samsung',
      //   'palmsource', 'xda', 'pieplus', 'meizu',
      //   'midp' ,'cldc' , 'motorola', 'foma',
      //   'docomo', 'up.browser', 'up.link', 'blazer',
      //   'helio', 'hosin', 'huawei', 'novarra',
      //   'coolpad', 'webos', 'techfaith', 'palmsource',
      //   'alcatel', 'amoi', 'ktouch', 'nexian',
      //   'ericsson', 'philips', 'sagem', 'wellcom',
      //   'bunjalloo', 'maui', 'smartphone', 'iemobile',
      //   'spice', 'bird', 'zte-', 'longcos',
      //   'pantech', 'gionee', 'portalmmm', 'jig browser',
      //   'hiptop', 'benq', 'haier', '^lct',
      //   '320x320', '240x320', '176x220'
      // ];
      // var pattern = new RegExp(mobileUA.join('|'), 'i');

      // return !isiPad && userAgent.match(pattern);
    }

    function store_search_xml(xmlResponse) {
        datas = $("entry", xmlResponse).map(function () {
          return {
            title: $("title", this).text(),
            content: $("content", this).text(),
            url: $("url", this).text(),
            encrypted: $("encrypted", this).text(),
          };
        }).get();
        // Put the object into storage
        localStorage.setItem('local_search_xml_data', JSON.stringify(datas));
        is_load_xml_finished = 1;

        console.log("store search.xml finished.");
    }

    function ajax_store_search_xml() {
      $.ajax({
        url: "/search.xml",
        dataType: "xml",
        success: function (xmlResponse) {
            store_search_xml(xmlResponse);
        }
      });
    }

    function retrieve_search_xml() {
        // Retrieve the object from local storage
        var retrievedObject = localStorage.getItem('local_search_xml_data');
        var xml_resp = JSON.parse(retrievedObject)
        return xml_resp
    }

    var getSearchFile = function(){
      var path = "/search.xml";
      var local_search_result_name = isMobile() ? "local-search-result-mobile" : "local-search-result-pc";
      searchFunc(path, 'local-search-input', local_search_result_name);
    }

    var local_search_xml_data = localStorage.getItem('local_search_xml_data');
    if (local_search_xml_data) {
      is_load_xml_finished = 1;
      console.log("load search.xml finished.");
    }
    var last_use_local_search_date = localStorage.getItem('last_use_local_search_date');
    var curDate = new Date();
    // 只有在 localStorage 没有 search.xml数据或者 距离上次使用local search已经超过一天了才去取search.xml
    // 节省流量
    if (last_use_local_search_date != curDate.getDate() || !local_search_xml_data) {
      // preload search.xml
      ajax_store_search_xml();
    }

    localStorage.setItem('last_use_local_search_date', curDate.getDate());
    

  </script>





  

  

  

  

  

  


  <script type="text/javascript" src="/lib/wobble_window/wobblewindow.js"> </script>
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>


<!-- 页面点击小红心 -->





<script type="text/javascript" src="/js/src/headroom.js"></script> 

<!-- 代码块复制功能 -->
<script type="text/javascript" src="/js/src/clipboard-use.js"></script>
